name: Create branch from issue

on:
  issues:
    types: [opened, assigned]
  issue_comment:
    types: [created]

jobs:
  create-branch:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      issues: write
      pull-requests: write
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Create branch from issue
        uses: robvanderleek/create-issue-branch@v1.9.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          branch_config: |
            branches:
              - label: 'ğŸ› Bug'
                prefix: bugfix/
              - label: 'ğŸ©¹ Simple Fix'
                prefix: bugfix/
              - label: 'ğŸš¨ HOTFIX'
                prefix: hotfix/
              - label: 'ğŸ‘· CI'
                prefix: env/
              - label: 'âš™ï¸ Setting'
                prefix: env/
              - label: 'ğŸ’„ Design'
                prefix: feature/
              - label: 'âœ¨ Feature'
                prefix: feature/
              - label: 'â™»ï¸ Refactor'
                prefix: feature/
              - label: 'âœ… Test'
                prefix: feature/
              - label: 'ğŸ“ Document'
                prefix: docs/
          auto_close_issue: true
          draft_pull_request: true
          copy_issue_labels: true
          copy_issue_assignees: true
