name: Create branch from issue

on:
  issues:
    types: [opened, assigned]
  issue_comment:
    types: [created]

jobs:
  create-branch:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      issues: write
      pull-requests: write
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Create branch from issue
        uses: robvanderleek/create-issue-branch@v1.9.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          branch_config: |
            branches:
              - label: '🐛 Bug'
                prefix: bugfix/
              - label: '🩹 Simple Fix'
                prefix: bugfix/
              - label: '🚨 HOTFIX'
                prefix: hotfix/
              - label: '👷 CI'
                prefix: env/
              - label: '⚙️ Setting'
                prefix: env/
              - label: '💄 Design'
                prefix: feature/
              - label: '✨ Feature'
                prefix: feature/
              - label: '♻️ Refactor'
                prefix: feature/
              - label: '✅ Test'
                prefix: feature/
              - label: '📝 Document'
                prefix: docs/
          auto_close_issue: true
          draft_pull_request: true
          copy_issue_labels: true
          copy_issue_assignees: true
